!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/animations"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng2-material-dropdown",["exports","@angular/core","@angular/animations","@angular/common"],e):e((t=t||self)["ng2-material-dropdown"]={},t.ng.core,t.ng.animations,t.ng.common)}(this,(function(t,e,n,o){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function i(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var d=t.length-1;d>=0;d--)(i=t[d])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s}var r,s=function(){function t(t){this.element=t,this.onMenuToggled=new e.EventEmitter,this.showCaret=!0}return t.prototype.toggleMenu=function(){this.onMenuToggled.emit(!0)},t.prototype.getPosition=function(){return this.element.nativeElement.getBoundingClientRect()},t.ctorParameters=function(){return[{type:e.ElementRef}]},i([e.Output()],t.prototype,"onMenuToggled",void 0),i([e.Input()],t.prototype,"showCaret",void 0),t=i([e.Component({selector:"ng2-dropdown-button",template:'<button class=\'ng2-dropdown-button\' type="button" (click)="toggleMenu()" tabindex="0s">\n    <span class="ng2-dropdown-button__label">\n        <ng-content></ng-content>\n    </span>\n\n    <span class="ng2-dropdown-button__caret" *ngIf="showCaret">\n        <svg enable-background="new 0 0 32 32" height="16px" id="Слой_1" version="1.1" viewBox="0 0 32 32" width="16px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M24.285,11.284L16,19.571l-8.285-8.288c-0.395-0.395-1.034-0.395-1.429,0  c-0.394,0.395-0.394,1.035,0,1.43l8.999,9.002l0,0l0,0c0.394,0.395,1.034,0.395,1.428,0l8.999-9.002  c0.394-0.395,0.394-1.036,0-1.431C25.319,10.889,24.679,10.889,24.285,11.284z" fill="#121313" id="Expand_More"/><g/><g/><g/><g/><g/><g/></svg>\n    </span>\n</button>\n',styles:['.ng2-dropdown-button{font-family:Roboto,"Helvetica Neue",Helvetica,Arial;background:#fff;padding:.45rem .25rem;font-size:14px;letter-spacing:.08rem;color:#444;outline:0;cursor:pointer;font-weight:400;border:none;border-bottom:1px solid #efefef;text-align:left;min-width:100px;width:100%;display:flex;flex-direction:row;max-width:150px}.ng2-dropdown-button:hover{color:#222}.ng2-dropdown-button:active,.ng2-dropdown-button:focus{color:#222;border-bottom:2px solid #2196f3}.ng2-dropdown-button__label{flex:1 1 95%}.ng2-dropdown-button__caret{width:12px;height:12px;display:flex;flex:1 1 6%}:host-context(.ng2-dropdown-button--icon) .ng2-dropdown-button{border:none;min-width:40px;width:40px;border-radius:100%;transition:.2s;text-align:center;height:40px;padding:.5em}:host-context(.ng2-dropdown-button--icon) .ng2-dropdown-button:active{background:rgba(0,0,0,.2)}']})],t)}(),d=38,p=40,a=13,l=27,c=function(t,e,n){t<e.length-1&&n.select(e[t+1],!0)},u=function(t,e,n){t>0&&n.select(e[t-1],!0)},h=function(t,e,n){t<e.length-1?n.select(e[t+1],!0):n.select(e[0],!0)};var m=function(t,e,n){return n.selectedItem?n.selectedItem.click():void 0},f=((r={})[9]=h,r[d]=u,r[p]=c,r[a]=m,r[l]=function(){this.hide()},r);function g(t){[38,40].indexOf(t.keyCode)>-1&&t.preventDefault()}var w=function(){function t(){this.onItemSelected=new e.EventEmitter,this.onItemClicked=new e.EventEmitter,this.onItemDestroyed=new e.EventEmitter}return Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this._selectedItem},enumerable:!0,configurable:!0}),t.prototype.select=function(t,e){void 0===e&&(e=!0),this._selectedItem=t,e&&t&&(t.focus(),this.onItemSelected.emit(t))},t.prototype.unselect=function(){this._selectedItem=void 0},t}(),y=function(){function t(){this.menuState={isVisible:!1,toString:function(){return!0===this.isVisible?"visible":"hidden"}},this.dropdownState=new w}return t=i([e.Injectable()],t)}(),v=function(){function t(t,e){this.state=t,this.element=e,this.preventClose=!1}return t.prototype.ngOnDestroy=function(){this.state.dropdownState.onItemDestroyed.emit(this)},Object.defineProperty(t.prototype,"isSelected",{get:function(){return this===this.state.dropdownState.selectedItem},enumerable:!0,configurable:!0}),t.prototype.select=function(t){this.state.dropdownState.select(this,!0),t&&(t.stopPropagation(),t.preventDefault())},t.prototype.click=function(){this.state.dropdownState.onItemClicked.emit(this)},t.prototype.focus=function(){this.element.nativeElement.children[0].focus()},t.ctorParameters=function(){return[{type:y},{type:e.ElementRef}]},i([e.Input()],t.prototype,"preventClose",void 0),i([e.Input()],t.prototype,"value",void 0),t=i([e.Component({selector:"ng2-menu-item",template:'\n        <div\n            class="ng2-menu-item"\n            role="button"\n            tabindex="0"\n            [class.ng2-menu-item--selected]="isSelected"\n            (keydown.enter)="click()"\n            (click)="click()"\n            (mouseover)="select()"\n        >\n            <ng-content></ng-content>\n        </div>\n    ',styles:['.ng2-menu-item{font-family:Roboto,"Helvetica Neue",Helvetica,Arial;background:#fff;color:rgba(0,0,0,.87);cursor:pointer;font-size:.9em;text-transform:none;font-weight:400;letter-spacing:.03em;height:48px;line-height:48px;padding:.3em 1.25rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;transition:background .25s}.ng2-menu-item--selected{background:rgba(158,158,158,.2);outline:0}.ng2-menu-item:focus{outline:0}.ng2-menu-item:active{background:rgba(158,158,158,.4)}:host(ng2-menu-item) ::ng-deep [ng2-menu-item-icon]{vertical-align:middle;font-size:28px;width:1.5em;height:30px;color:rgba(0,0,0,.44)}']})],t)}(),b=function(){function t(t,e,n){this.dropdownState=t,this.element=e,this.renderer=n,this.width=4,this.focusFirstElement=!0,this.appendToBody=!0,this.zIndex=1e3,this.listeners={arrowHandler:void 0,handleKeypress:void 0}}return t.prototype.show=function(t,e){void 0===e&&(e=!0);var n="undefined"!=typeof document?document:void 0,o="undefined"!=typeof window?window:void 0;this.dropdownState.menuState.isVisible||(this.listeners.handleKeypress=this.renderer.listen(n.body,"keydown",this.handleKeypress.bind(this)),this.listeners.arrowHandler=this.renderer.listen(o,"keydown",g)),this.dropdownState.menuState.isVisible=!0,t&&this.updatePosition(t,e)},t.prototype.hide=function(){this.dropdownState.menuState.isVisible=!1,this.dropdownState.dropdownState.unselect(),this.listeners.arrowHandler&&this.listeners.arrowHandler(),this.listeners.handleKeypress&&this.listeners.handleKeypress()},t.prototype.updatePosition=function(t,e){this.position=t,this.updateOnChange(e)},t.prototype.handleKeypress=function(t){var e=t.keyCode,n=this.items.toArray(),o=n.indexOf(this.dropdownState.dropdownState.selectedItem);f.hasOwnProperty(e)&&f[e].call(this,o,n,this.dropdownState.dropdownState)},t.prototype.getMenuElement=function(){return this.element.nativeElement.children[0]},t.prototype.calcPositionOffset=function(t){var e="undefined"!=typeof window?window:void 0,n="undefined"!=typeof document?document:void 0;if(e&&n&&t){var o=this.getMenuElement(),i=void 0!==e.pageXOffset,r="CSS1Compat"===(n.compatMode||""),s=i?e.pageXOffset:r?n.documentElement.scrollLeft:n.body.scrollLeft,d=i?e.pageYOffset:r?n.documentElement.scrollTop:n.body.scrollTop,p=this.applyOffset(t.top+(this.appendToBody?d-15:0)+"px",t.left+s-5+"px"),a=p.top,l=p.left,c=o.clientWidth,u=o.clientHeight,h=parseInt(a)+u+(this.appendToBody?0:d-15),m=parseInt(l)+c,f=e.innerHeight+e.scrollY,g=e.innerWidth+e.scrollX;if(h>=f&&(a=parseInt(a.replace("px",""))-u+"px"),m>=g){var w=m-g+30;l=parseInt(l.replace("px",""))-w+"px"}return{top:a,left:l}}},t.prototype.applyOffset=function(t,e){if(!this.offset)return{top:t,left:e};var n=this.offset.split(" ");return n[1]||(n[1]="0"),{top:t=parseInt(t.replace("px",""))+parseInt(n[0])+"px",left:e=parseInt(e.replace("px",""))+parseInt(n[1])+"px"}},t.prototype.ngOnInit=function(){var t="undefined"!=typeof document?document:void 0;this.appendToBody&&t.body.appendChild(this.element.nativeElement)},t.prototype.updateOnChange=function(t){void 0===t&&(t=!0);var e=this.getMenuElement(),n=this.calcPositionOffset(this.position);n&&(this.renderer.setStyle(e,"top",n.top.toString()),this.renderer.setStyle(e,"left",n.left.toString())),this.focusFirstElement&&this.items.first&&!this.dropdownState.dropdownState.selectedItem&&this.dropdownState.dropdownState.select(this.items.first,!1)},t.prototype.ngOnDestroy=function(){var t=this.element.nativeElement;t.parentNode.removeChild(t),this.listeners.handleKeypress&&this.listeners.handleKeypress()},t.ctorParameters=function(){return[{type:y},{type:e.ElementRef},{type:e.Renderer2}]},i([e.Input()],t.prototype,"width",void 0),i([e.Input()],t.prototype,"focusFirstElement",void 0),i([e.Input()],t.prototype,"offset",void 0),i([e.Input()],t.prototype,"appendToBody",void 0),i([e.Input()],t.prototype,"zIndex",void 0),i([e.ContentChildren(v,{descendants:!0})],t.prototype,"items",void 0),t=i([e.Component({selector:"ng2-dropdown-menu",template:'\n        \x3c!-- MENU --\x3e\n        <div\n            class="ng2-dropdown-menu ng2-dropdown-menu---width--{{ width }}"\n            [class.ng2-dropdown-menu--inside-element]="!appendToBody"\n            [class.ng2-dropdown-menu--open]="dropdownState.menuState.isVisible"\n            [style.z-index]="zIndex"\n            [@fade]="dropdownState.menuState.toString()"\n        >\n            <div\n                class="ng2-dropdown-menu__options-container"\n                [@opacity]="dropdownState.menuState.toString()"\n            >\n                <ng-content></ng-content>\n            </div>\n        </div>\n\n        \x3c!-- BACKDROP --\x3e\n        <div\n            class="ng2-dropdown-backdrop"\n            *ngIf="dropdownState.menuState.isVisible"\n            (click)="hide()"\n        ></div>\n    ',animations:[n.trigger("fade",[n.state("visible",n.style({opacity:1,height:"*",width:"*"})),n.state("hidden",n.style({opacity:0,overflow:"hidden",height:0,width:0})),n.transition("hidden => visible",[n.animate("250ms ease-in",n.style({opacity:1,height:"*",width:"*"}))]),n.transition("visible => hidden",[n.animate("350ms ease-out",n.style({opacity:0,width:0,height:0}))])]),n.trigger("opacity",[n.transition("hidden => visible",[n.animate("450ms ease-in",n.keyframes([n.style({opacity:0,offset:0}),n.style({opacity:1,offset:1})]))]),n.transition("visible => hidden",[n.animate("250ms ease-out",n.keyframes([n.style({opacity:1,offset:0}),n.style({opacity:.5,offset:.3}),n.style({opacity:0,offset:1})]))])])],styles:[":host{display:block}.ng2-dropdown-menu{overflow-y:auto;box-shadow:0 1px 2px 0 rgba(0,0,0,.3);position:absolute;padding:.5em 0;background:#fff;border-radius:1px;max-height:400px;width:260px;min-height:0;display:block}.ng2-dropdown-menu.ng2-dropdown-menu--inside-element{position:fixed}.ng2-dropdown-menu.ng2-dropdown-menu--width--2{width:200px}.ng2-dropdown-menu.ng2-dropdown-menu--width--4{width:260px}.ng2-dropdown-menu.ng2-dropdown-menu--width--6{width:320px}.ng2-dropdown-backdrop{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1;overflow:hidden}:host ::ng-deep .ng2-menu-divider{height:1px;min-height:1px;max-height:1px;width:100%;display:block;background:#f9f9f9}"]})],t)}(),x=function(){function t(t){this.state=t,this.dynamicUpdate=!0,this.onItemClicked=new e.EventEmitter,this.onItemSelected=new e.EventEmitter,this.onShow=new e.EventEmitter,this.onHide=new e.EventEmitter}return t.prototype.ngOnInit=function(){var t=this;this.state.dropdownState.onItemClicked.subscribe((function(e){t.onItemClicked.emit(e),e.preventClose||t.hide.call(t)})),this.button&&this.button.onMenuToggled.subscribe((function(){t.toggleMenu()})),this.state.dropdownState.onItemSelected.subscribe((function(e){t.onItemSelected.emit(e)})),this.state.dropdownState.onItemDestroyed.subscribe((function(e){var n,o=t.menu.items.toArray();e===t.state.dropdownState.selectedItem&&(t.menu.focusFirstElement&&(n=e===o[0]&&o.length>1?o[1]:o[0]),t.state.dropdownState.select(n))}))},t.prototype.toggleMenu=function(t){void 0===t&&(t=this.button.getPosition()),this.state.menuState.isVisible?this.hide():this.show(t)},t.prototype.hide=function(){this.menu.hide(),this.onHide.emit(this)},t.prototype.show=function(t){void 0===t&&(t=this.button.getPosition()),this.menu.show(t,this.dynamicUpdate),this.onShow.emit(this)},t.prototype.scrollListener=function(){this.button&&this.dynamicUpdate&&this.menu.updatePosition(this.button.getPosition(),!0)},t.ctorParameters=function(){return[{type:y}]},i([e.ContentChild(s,{static:!0})],t.prototype,"button",void 0),i([e.ContentChild(b,{static:!0})],t.prototype,"menu",void 0),i([e.Input()],t.prototype,"dynamicUpdate",void 0),i([e.Output()],t.prototype,"onItemClicked",void 0),i([e.Output()],t.prototype,"onItemSelected",void 0),i([e.Output()],t.prototype,"onShow",void 0),i([e.Output()],t.prototype,"onHide",void 0),i([e.HostListener("window:scroll")],t.prototype,"scrollListener",null),t=i([e.Component({selector:"ng2-dropdown",template:'\n        <div class="ng2-dropdown-container">\n            <ng-content select="ng2-dropdown-button"></ng-content>\n            <ng-content select="ng2-dropdown-menu"></ng-content>\n        </div>\n    ',providers:[y]})],t)}(),S=function(){function t(){}return t=i([e.NgModule({exports:[v,s,b,x],declarations:[x,v,s,b],imports:[o.CommonModule]})],t)}();t.DropdownStateService=y,t.Ng2Dropdown=x,t.Ng2DropdownButton=s,t.Ng2DropdownMenu=b,t.Ng2DropdownModule=S,t.Ng2MenuItem=v,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ng2-material-dropdown.umd.min.js.map